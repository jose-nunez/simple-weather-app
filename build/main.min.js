"use strict";var OPEN_WEATHER_APP_URL="https://api.openweathermap.org/data/2.5/weather?units=metric&appid=c8f1cd3f0bcb5537c9394a7706a9d778",getTemp=function(t){return axios.get(OPEN_WEATHER_APP_URL,{params:{lat:t.lat,lon:t.lng}}).then(function(t){if(t.data.cod&&t.data.message)throw new Error(t.data.message);console.log(t.data);var e=t.data.weather[0].icon;return e=e[e.length-1],e="n"==e?"night":"day",{temp:t.data.main.temp,city:t.data.name,icon:t.data.weather[0].id,time:e}},function(t){throw new Error(t.response.data.message)})},getLocation=function(){return new Promise(function(t,e){try{navigator.geolocation.getCurrentPosition(function(e){return t(e)})}catch(t){e(t)}})},run=function(){getLocation().then(function(t){return{lat:t.coords.latitude,lng:t.coords.longitude}}).then(function(t){return getTemp(t)}).then(function(t){document.getElementById("temp").innerHTML=t.temp+"&#176;",document.getElementById("city").innerHTML=t.city,document.getElementById("icon").setAttribute("class","wi wi-owm-"+t.time+"-"+t.icon),document.getElementById("icon").innerHTML=" | "})};run();