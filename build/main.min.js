"use strict";var OPEN_WEATHER_APP_URL="https://api.openweathermap.org/data/2.5/weather?units=metric&appid=c8f1cd3f0bcb5537c9394a7706a9d778",getTemp=function(t){return axios.get(OPEN_WEATHER_APP_URL,{params:"string"==typeof t?{q:t}:{lat:t.lat,lon:t.lng}}).then(function(t){if(t.data.cod&&t.data.message)throw new Error(t.data.message);console.log(t.data);var e=t.data.weather[0].icon;return e=e[e.length-1],e="n"==e?"night":"day",{temp:t.data.main.temp,city:t.data.name,icon:t.data.weather[0].id,time:e}},function(t){throw new Error(t.response.data.message)})},getLocation=function(){return new Promise(function(t,e){try{navigator.geolocation.getCurrentPosition(function(e){return t(e)},function(t){return e(t)})}catch(t){e(t)}})},celunit=!0,temp,updateTemp=function(t,e){(t=Math.round(t)).length>2?document.getElementById("temp-h").classList.add("smaller"):document.getElementById("temp-h").classList.remove("smaller"),document.getElementById("temp").innerHTML=t+"Â°"+e},update=function(t){temp=t.temp,updateTemp(temp,"C"),t.city?(document.getElementById("city-h").classList.remove("smaller"),document.getElementById("city").innerHTML=t.city):(document.getElementById("city-h").classList.add("smaller"),document.getElementById("city").innerHTML="Somewhere in the earth"),document.getElementById("icon").setAttribute("class","wi wi-owm-"+t.time+"-"+t.icon)},switchUnit=function(){temp&&(celunit?updateTemp(temp=9*temp/5+32,"F"):updateTemp(temp=5*(temp-32)/9,"C"),celunit=!celunit)},run=function(t){(t?Promise.resolve(t):getLocation().then(function(t){return{lat:t.coords.latitude,lng:t.coords.longitude}}).catch(function(t){return"Santiago"})).then(function(t){return getTemp(t)}).then(function(t){return update(t)})},parsePosition=function(t,e){return{lat:t,lng:e}};run();